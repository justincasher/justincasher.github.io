{%- comment -%}
*
* MIT License
* Copyright (c) 2020 Raghuveer S, Hiran Venugopalan
*
* Permission is hereby granted, free of charge, to any person obtaining a copy
* of this software and associated documentation files (the "Software"), to deal
* in the Software without restriction, including without limitation the rights
* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the Software is
* furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all
* copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
* SOFTWARE.
*
* File: Nav.html
* Author Raghuveer S, Hiran Venugopalan
*
* This file contains the markup for the context menu thingy you see when you right
* click on the post titles on the home page.
*
{%- endcomment -%}

<!-- Navigation Bar -->
<nav class="navbar is-fixed-top is-white" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" style="padding-left: 0;" href="/">
        <h6>{{ site.heading }}</h6>
      </a>
      
      <!-- External JavaScript Files -->
      <script src="{{ site.baseurl }}/assets/js/modeswitcher.js"></script>
      <script src="{{ site.baseurl }}/assets/js/Hamburger.js"></script>

      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
    
    <div id="navbarBasicExample" class="navbar-menu">
      <div class="navbar-start">
        <!-- Navigation Links -->
        <a href="{{ '/ai' | relative_url }}" class="navbar-item">
          AI
        </a>
        <a href="{{ '/math' | relative_url }}" class="navbar-item">
          Math
        </a>
      </div>
    </div>
  </div> <!-- End of Container -->
</nav>

<!-- JavaScript for Navbar Scroll Shadow Effect -->
<script>
  (function() {
    const navbar = document.querySelector('.navbar.is-fixed-top');
    let ticking = false;

    function handleNavbarScroll() {
      if (window.scrollY > 50) { // Adjust the scroll value as needed
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
      ticking = false;
    }

    function onScroll() {
      if (!ticking) {
        window.requestAnimationFrame(handleNavbarScroll);
        ticking = true;
      }
    }

    window.addEventListener('scroll', onScroll);

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
      handleNavbarScroll();
    });
  })();
</script>

<!-- CSS Styles for Navbar and Scroll Shadow -->
<style>
  /* Navbar Base Styles */
  .navbar {
    transition: box-shadow 0.3s, background-color 0.3s;
  }

  /* Navbar Menu Dropdown Styles when active */
  .navbar-menu.is-active {
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: 100vw;
    background-color: #ffffff;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    z-index: 10;
    padding: 0; 
    margin: 0; 
  }

  /* Ensure navbar-menu spans the full width without container constraints */
  .navbar-menu.is-active .navbar-start {
    width: 100%;
    justify-content: center;
  }

  /* Navbar Scrolled State */
  .navbar.scrolled {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Adds a subtle shadow */
    background-color: #fff; /* Ensures background remains white or desired color */
  }

  /* Optional: Adjustments for Responsive Design */
  @media screen and (max-width: 768px) {
    .navbar.scrolled {
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); /* Slightly smaller shadow on smaller screens */
    }
    .navbar-menu.is-active {
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Ensure shadow on mobile dropdown */
      width: 100vw;
      left: 50%;
      transform: translateX(-50%);
    }
  }
</style>

